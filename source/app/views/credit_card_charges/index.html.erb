<% failed = @payments.failed %>
<table class="charges failed">
    <thead>
        <tr>
            <th colspan="3"><h1>Failed Payments</h1></th>
        </tr>
        <tr>
            <th>Customer Name</th>
            <th>Charge Amount (<%= failed.first&.currency&.upcase %>)</th>
            <th>Date</th>
        </tr>
    </thead>
    <tbody>
        <% failed.each do |payment| %>
        <tr>
            <td><%= payment.customer.name %></td>
            <td><%= payment.decimal_amount %></td>
            <td><%= payment.date %></td>
        </tr>
        <% end %>
    </tbody>
</table>

<% disputed = @payments.disputed %>
<table class="charges disputed">
    <thead>
        <tr>
            <th colspan="3"><h1>Disputed Payments</h1></th>
        </tr>
        <tr>
            <th>Customer Name</th>
            <th>Charge Amount (<%= disputed.first&.currency&.upcase %>)</th>
            <th>Date</th>
        </tr>
    </thead>
    <tbody>
        <% disputed.each do |payment| %>
        <tr>
            <td><%= payment.customer.name %></td>
            <td><%= payment.decimal_amount %></td>
            <td><%= payment.date %></td>
        </tr>
        <% end %>
    </tbody>
</table>

<% successful = @payments.successful %>
<table class="charges successful">
    <thead>
        <tr>
            <th colspan="3"><h1>Successful Payments</h1></th>
        </tr>
        <tr>
            <th>Customer Name</th>
            <th>Charge Amount (<%= successful.first&.currency&.upcase %>)</th>
            <th>Date</th>
        </tr>
    </thead>
    <tbody>
        <% successful.each do |payment| %>
        <tr>
            <td><%= payment.customer.name %></td>
            <td><%= payment.decimal_amount %></td>
            <td><%= payment.date %></td>
        </tr>
        <% end %>
    </tbody>
</table>