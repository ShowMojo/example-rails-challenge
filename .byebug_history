continue
Charge.includes(:customer).failed.last
Charge.includes(:customer).failed.count
Charge.includes(:customer).successful.count
Charge.all.count
continue
Time.current
refunded && (new_record? || refunded_changed?)
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
continue
refunded
refunded && (new_record? || refunded_changed?)
continue
refunded
refunded && (new_record? || refunded_changed?)
continue
paid_changed?
refunded_changed?
continue
paid_changed? && !paid
refunded
continue
self.paid_changed?
self.paid_change
self.changed?
seld.changed?
paid.changed?
refunded
